<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Cadastrar</title>
</h:head>
<h:body>
	<h:form>
		<!-- MODELO -->
		<p:panelGrid columns="2">
                Nome Estabelecimento<p:inputText
				value="#{estabelecimentoBean.establecimento.nome}" required="true" />
				CNPJ<p:inputText value="#{estabelecimentoBean.establecimento.cnpj}" />
                Complemento<p:inputText
				value="#{estabelecimentoBean.establecimento.endereco.complemento}"
				required="true" />
                Rua<p:inputText
				value="#{estabelecimentoBean.establecimento.endereco.rua}"
				required="true" />
                NÃºmero<p:inputText
				value="#{estabelecimentoBean.establecimento.endereco.numero}"
				required="true" />
                Bairro<p:inputText
				value="#{estabelecimentoBean.establecimento.endereco.bairro}"
				required="true" />
				Selecione seu estado:  
				<h:selectOneMenu label="estado"
				value="#{estabelecimentoBean.estado}" required="false"
				converter="entityConverter">
				<f:selectItem itemLabel="-- Selecione --" noSelectionOption="true" />
				<f:selectItems value="#{estadoBean.estados}" var="estado"
					itemValue="#{estado}" itemLabel="#{estado.sigla}" />
				<f:ajax render="selectCidade" />
			</h:selectOneMenu>
	            Selecione sua cidade
	            <h:selectOneMenu id="selectCidade" label="cidade"
				value="#{estabelecimentoBean.cidade}" required="false"
				converter="entityConverter">
				<f:selectItem itemLabel="-- Selecione --" noSelectionOption="true" />
				<f:selectItems value="#{estabelecimentoBean.estado.cidades}"
					var="cidade" itemValue="#{cidade}" itemLabel="#{cidade.nome}" />
			</h:selectOneMenu>
			Email :<p:inputText
				value="#{estabelecimentoBean.establecimento.contato.email}" />
			Facebook:<p:inputText
				value="#{estabelecimentoBean.establecimento.contato.facebook}" />
			Telefone:<p:inputText
				value="#{estabelecimentoBean.establecimento.contato.telefone}" />
				Nome Responsavel:<p:inputText value="#{estabelecimentoBean.establecimento.responsavel.nome}" />
				Login:<p:inputText value="#{estabelecimentoBean.establecimento.responsavel.login}" />
				Senha:<p:inputText value="#{estabelecimentoBean.establecimento.responsavel.senha}"  type="password"/>
				
		</p:panelGrid>
		<br />
		<p:commandButton value="Salvar"
			action="#{estabelecimentoBean.salvar()}" />
	</h:form>
</h:body>
</html>

